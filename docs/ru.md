# Dotfiles и Инструменты Разработки

Этот репозиторий содержит конфигурационные файлы (dotfiles) и скрипты для автоматической настройки рабочего окружения разработчика. Поддерживаются macOS и Linux (через Docker для тестирования).

## Содержимое репозитория

### Конфигурационные файлы
- `.zshrc` - конфигурация оболочки Zsh
- `.vimrc` - настройки Vim
- `.tmux.conf` - конфигурация Tmux
- `.alacritty.toml` - настройки терминала Alacritty
- `.gitconfig` и `.gitignore` - глобальные настройки Git
- `.editorconfig` - настройки форматирования кода
- Конфигурации для различных утилит в `.config/`:
  - `bpytop` - мониторинг системы
  - `lf` - файловый менеджер
  - `tmux` - конфигурации сессий
  - `vifm` - файловый менеджер в стиле Vim
- `configs/tools.json` - конфигурация инструментов для интерактивного режима установки

### Скрипты
- `install-tools.sh` - основной скрипт установки
- Пользовательские скрипты в `scripts/customs/`
- Скрипты для lf в `scripts/lf/`
- `tmux.sh` - скрипт для управления сессиями tmux

## Основные возможности

### Инструменты разработки
- Современные альтернативы стандартным утилитам (eza, bat, ripgrep и др.)
- Инструменты для разработки (Git, Python, Node.js, asdf и др.)
- Файловые менеджеры (lf, vifm)
- Терминальные утилиты (tmux, Alacritty)
- Поддержка различных языков программирования

### Конфигурация
- Настроенный Zsh с Oh My Zsh и Powerlevel10k
- Vim с плагинами для разработки
- Tmux с оптимизированными настройками
- Интеграция Git с улучшенным выводом

## Установка

### Прямая установка (macOS)

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/the-homeless-god/dotfiles.git ~/dotfiles
   ```

2. Запустите скрипт установки:
   ```bash
   cd ~/dotfiles/scripts
   ./install-tools.sh
   ```

3. Следуйте интерактивным подсказкам для:
   - Выбора языка интерфейса (русский/английский)
   - Выбора компонентов для установки
   - Установки конфигурационных файлов
   - Выполнения пост-установочных настроек

### Интерактивный режим установки

Для более детального контроля над процессом установки используйте интерактивный режим:

```bash
./install-tools.sh --interactive
```

Этот режим предоставляет удобный интерфейс с чекбоксами для выбора:
- Категорий инструментов (разработка, медиа, контейнеры и т.д.)
- Отдельных программ внутри каждой категории

Вы можете легко выбрать только те инструменты, которые вам нужны, без необходимости отвечать на множество отдельных вопросов.

### Тестирование в Docker

1. Соберите образ:
   ```bash
   docker build -t dotfiles-test .
   ```

2. Запустите контейнер:
   ```bash
   docker run -it dotfiles-test
   ```

### Использование Docker

#### Использование готового образа

Мы публикуем готовые Docker образы в GitHub Container Registry:

```bash
# Запуск контейнера
docker pull ghcr.io/the-homeless-god/dotfiles:latest
docker run -it --name dotfiles ghcr.io/the-homeless-god/dotfiles:latest

# Для повторного подключения к контейнеру
docker start dotfiles
docker exec -it dotfiles /bin/bash
```

#### Локальная сборка

Если вы хотите собрать образ локально:

```bash
# Сборка и запуск контейнера
docker build -t dotfiles-test .
docker run -it --name dotfiles-dev dotfiles-test

# Для повторного подключения к контейнеру
docker start dotfiles-dev
docker exec -it dotfiles-dev /bin/bash
```

## Структура конфигурации

### Терминал
- **Alacritty**: Современный терминал с GPU-ускорением
- **Tmux**: Мультиплексор терминала с кастомными привязками клавиш
- **Zsh**: Настроенная оболочка с автодополнением и подсветкой синтаксиса

### Редакторы
- **Vim**: Настроен для разработки с различными плагинами
- **VS Code**: Поддержка синхронизации расширений

### Файловые менеджеры
- **lf**: Современный файловый менеджер в стиле ranger
- **vifm**: Файловый менеджер с привязками клавиш в стиле Vim

### Утилиты разработки
- **Git**: Расширенная конфигурация с алиасами и интеграциями
- **asdf**: Управление версиями языков программирования
- **Python**: Настроенное окружение с pip
- **Node.js**: Установка через nvm с основными инструментами

## Кастомизация

1. Форкните репозиторий
2. Измените конфигурационные файлы под свои потребности
3. Добавьте или удалите инструменты в `install-tools.sh`
4. Настройте свои пользовательские скрипты в `scripts/customs/`

## Поддержка языков

- Русский (основной)
- English (альтернативный)

Локализация настраивается через `scripts/locales.json`

## Требования

- macOS или Linux
- Git
- Интернет-соединение для загрузки компонентов
- Для macOS: Command Line Tools

## Известные проблемы

- Некоторые компоненты могут быть недоступны в Linux
- Homebrew требует дополнительной настройки в Linux

## Участие в разработке

1. Форкните репозиторий
2. Создайте ветку для новой функциональности
3. Отправьте пулл-реквест

## Благодарности

- Сообществу dotfiles
- Разработчикам всех используемых инструментов 

## CI/CD

Этот репозиторий использует GitHub Actions для непрерывной интеграции и доставки:

- Автоматическая сборка Docker образов при каждом пуше в основную ветку
- Автоматические релизы при создании тегов
- Публикация образов в GitHub Container Registry
- Кэширование сборок для ускорения процесса
- Автоматизированная система тегов

### Автоматические сборки

Следующие события запускают сборку:
- Пуш в основную ветку
- Создание тегов (vX.Y.Z)
- Пулл-реквесты

### Теги Docker

Доступные теги в реестре:
- `latest` - Последняя стабильная версия
- `vX.Y.Z` - Конкретные версии релизов
- `main` - Последняя версия из ветки разработки
- `sha-XXXXXXX` - Сборки конкретных коммитов

### Реестр

Образы публикуются в GitHub Container Registry (ghcr.io):
```bash
ghcr.io/the-homeless-god/dotfiles
```

### Статус сборки

Вы можете проверить текущий статус сборки на [вкладке Actions](https://github.com/the-homeless-god/dotfiles/actions) или по бейджу вверху README. 
